# assignment.md

## Автор
*ФИО: Бардышев Артём Антонович  
*Затраченное время: 2 часа 18 минут (отсчитано от времени установки Chrome браузера)

---

## 2.1. Краткий тест-план

**Объекты тестирования:**
- Веб-UI (https://www.saucedemo.com/)  
- API (https://dummyjson.com/)  

**Цель:** проверить корректность базового функционала интернет-магазина (логин/логаут, список товаров, сортировка, корзина, оформление заказа) и базовых эндпоинтов API (аутентификация, товары, категории, корзина).

**В зоне:**  
- UI: логин/логаут, отображение и сортировка товаров, добавление/удаление в корзину, оформление заказа (happy-path и валидации).  
- API: логин/токен, /auth/me, /products (пагинация и поиск), /categories, /carts (операции).  

**Вне зоны:**  
- Кросс-браузерность, мобильные устройства, производительность, локализация.  

**Окружение:**  
- Windows 11, Chrome (последняя версия), Postman 11.x.  

**Подход:**  
- Позитивные и негативные проверки, граничные значения, smoke-чек.  
- Приоритизация: критичный функционал корзины и чекаута — High, сортировки и UI-мелочи — Medium/Low.  

**Критерии завершения:**  
- Покрыто ≥12 UI кейсов и ≥8 API кейсов.  
- Выполнен smoke по ключевым сценариям.  
- Заведены баг-репорты на найденные дефекты.  

---

## 2.2. Тест-кейсы по UI

| ID | Название | Предусловия | Шаги | Ожидаемый результат | Тест-данные | Приоритет |
|----|----------|-------------|------|---------------------|-------------|-----------|
| UI-01 | Успешный логин | Открыта страница логина | Ввести `standard_user` / `secret_sauce` и нажать Login | Пользователь попадает на страницу товаров | стандартный аккаунт | High |
| UI-02 | Логин с неверным паролем | Открыта страница логина | Ввести `standard_user` / `wrong` | Сообщение об ошибке | неверный пароль | High |
| UI-03 | Логин с пробелом перед именем | Открыта страница логина | Ввести ` standard_user` / `secret_sauce` | Система должна обработать лишние пробелы и авторизовать | с пробелом | Medium |
| UI-04 | Проверка сортировки A→Z | Выполнен логин | Выбрать сортировку Name (A→Z) | Товары отсортированы по алфавиту | — | Medium |
| UI-05 | Проверка сортировки Price (low→high) | Выполнен логин | Выбрать сортировку Price low→high | Товары отсортированы по цене | — | Medium |
| UI-06 | Добавление товара в корзину | Выполнен логин | Нажать «Add to cart» на любом товаре | Счётчик корзины увеличен, товар есть в корзине | любой товар | High |
| UI-07 | Удаление товара из корзины | В корзине есть товар | Удалить товар | Счётчик уменьшается, товар исчезает из списка | — | High |
| UI-08 | Оформление заказа — happy path | В корзине ≥1 товар | Checkout → заполнить форму корректно → Finish | Заказ успешно оформлен | валидные данные | High |
| UI-09 | Checkout: пустые поля формы | В корзине ≥1 товар | Checkout → оставить поля пустыми → Continue | Ошибка, указание на обязательные поля | пустые данные | High |
| UI-10 | Checkout: некорректные данные | В корзине ≥1 товар | Checkout → ввести «фыв» в First/Last Name и ZIP | Ошибка валидации | невалидные данные | High |
| UI-11 | Поведение кнопки Cancel на Overview | На шаге Overview | Нажать Cancel | Пользователь должен вернуться на шаг ввода данных, а не на главную | — | Medium |
| UI-12 | Сохранение состояния корзины | Добавлен товар | Обновить страницу | Корзина и счётчик сохраняются | — | Medium |
| UI-13 | Проверка Reset App State | Есть товары в корзине | Нажать Reset App State | Корзина и отметки товаров должны очиститься | — | Low |

---

## 2.3. Тест-кейсы по API

| ID | Endpoint | Метод | Тело/Параметры | Ожидаемый код | Ожидаемое тело | Примечания |
|----|----------|-------|----------------|---------------|----------------|------------|
| API-01 | /auth/login | POST | валидный логин/пароль | 200 | `accessToken`, `refreshToken`, `id` | сохранить токен |
| API-02 | /auth/login | POST | неверные данные | 401 | `{message: "Invalid credentials"}` | негатив |
| API-03 | /auth/me | GET | с токеном | 200 | `id`, `username` | проверка авторизации |
| API-04 | /auth/me | GET | без токена | 401 | `{message: "Access Token is required"}` | негатив |
| API-05 | /products | GET | limit=5&skip=0 | 200 | массив ≤5 товаров, `total`, `skip`, `limit` | пейджинг |
| API-06 | /products | GET | limit=0 | 200 | пустой массив | граничное значение |
| API-07 | /products | GET | limit=10&skip=99999 | 200 | пустой массив | граничное значение |
| API-08 | /products/search | GET | q=phone | 200 | товары содержат ключевое слово | поиск |
| API-09 | /products/categories | GET | — | 200 | массив строк | список категорий |
| API-10 | /products/category/{cat} | GET | cat=smartphones | 200 | товары только этой категории | фильтр |
| API-11 | /carts/add | POST | `{"userId":1,"products":[{"id":1,"quantity":2}]}` | 200 | `id`, `userId`, `products`, `total` | мутация имитация |
| API-12 | /auth/me | GET | с некорректным токеном | 401 | `{message: "Invalid/Expired Token!"}` | негатив |

---

## 2.4. Чек-лист приёмки (smoke)

- Успешный логин стандартным пользователем.  
- Отображается список товаров.  
- Сортировка товаров меняет порядок (A→Z, Price).  
- Добавление/удаление товара обновляет корзину и счётчик.  
- Оформление заказа проходит при валидных данных.  
- Checkout: ошибки при пустых или некорректных полях.  
- /auth/login возвращает accessToken для валидных данных.  
- /auth/me возвращает 200 с токеном и 401 без токена.  
- /products с limit/skip возвращает корректные данные.  
- /carts/add возвращает корзину с суммами.

---

## 2.5. Баг-репорты


**BUG-01: Логин с лишними пробелами не работает**  
Severity: Medium | Priority: Medium  

**BUG-02: На странице логина видны тестовые учётные данные**  
Severity: High | Priority: High  

**BUG-03: Поле description в корзине не используется**  
Severity: Low | Priority: Low  

**BUG-04: Checkout принимает невалидные ФИО и ZIP**  
Severity: High | Priority: High  

**BUG-05: На шаге Checkout: Overview отсутствует верификация введённых данных**  
Severity: Medium | Priority: Medium  

**BUG-06: Кнопка Cancel на шаге Overview возвращает на список товаров, а не на шаг назад**  
Severity: Medium | Priority: Medium  

**BUG-07: Отсутствие возможности продолжить незавершённый заказ**  
Severity: Medium | Priority: Low  

**BUG-08: Нет опции выбрать несколько единиц одного товара**  
Severity: Medium | Priority: Medium  

**BUG-09: Отсутствие отображения итоговой суммы возле корзины и в корзине**  
Severity: Medium | Priority: Medium  

**BUG-10: Нет возможности указать дополнительный способ связи (телефон/email)**  
Severity: Low | Priority: Low  

**BUG-11: У problem_user у товаров выводится фото собаки вместо товара**  
Severity: Low | Priority: Low  

**BUG-12: Корзина не уникальна для разных пользователей**  
Severity: High | Priority: High  

**BUG-13: Reset App State очищает корзину, но не снимает отметки Add to cart**  
Severity: Medium | Priority: Medium  

**BUG-14: После перезагрузки страницы пользователь возвращается в начало, а не на то же место**  
Severity: Low | Priority: Low  

**BUG-15: Ошибка округления Item total (105.96000000000001 вместо 105.96)**  
Severity: Low | Priority: Low  

**BUG-16: Периодические разлогинивания с ошибкой, сообщение перекрывается UI**  
Severity: Medium | Priority: Medium  

**BUG-17: У error_user при удалении товара он остаётся отмеченным**  
Severity: High | Priority: High  

**BUG-18: У visual_user первый товар всегда с картинкой собаки**  
Severity: Low | Priority: Low  

**BUG-19: Сортировка сбрасывается после возврата из карточки товара**  
Severity: Medium | Priority: Medium  

**BUG-20: У visual_user значки корзины и меню отображаются некорректно**  
Severity: Low | Priority: Low  

---

## 2.6. Вопросы и допущения

1. Требуются ли проверки на формат имени/ZIP (регулярки, реальные адреса) или достаточно обязательности?  
2. Должна ли сохраняться корзина между сессиями разных пользователей?  
3. Нужно ли поддерживать покупку нескольких единиц товара или по одному?  
4. Какое поведение у кнопки Cancel на Checkout ожидается (возврат на список или на шаг назад)?  
5. Требуется ли локализация сообщений об ошибках (EN/RU)?  
6. Можно ли считать «Accepted usernames» на логин-странице частью ТЗ (или это тестовый артефакт)?  
7. Для API: допускается ли отсутствие персистентности (так как данные имитируются)?  
8. Для API: нужно ли тестировать refresh-токен, или достаточно login+me?
